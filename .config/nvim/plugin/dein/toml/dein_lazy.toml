[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
on_event= ['BufRead']
hook_post_source = '''
lua << EOF
require'nvim-treesitter.configs'.setup{
  highlight = {
    enable = true,
    disable = {"gitcommit"},
  },
}
EOF
'''


[[plugins]]
repo = 'numToStr/Comment.nvim'
on_event = ['BufRead']
hook_post_source = '''
lua << EOF
require('Comment').setup()
EOF
'''

[[plugins]]
repo = 'machakann/vim-sandwich'
on_event = ['BufRead']
[[plugins]]
repo = 'thinca/vim-quickrun'
on_event = ['BufRead']
hook_add = '''
nnoremap <leader>r <cmd>QuickRun<cr>
let g:quickrun_config = {
\  'tex':{
\     'command': 'latexmk',
\     'cmdopt': '-lualatex -pv',
\     'outputter' : 'error',
\     'outputter/error/success': 'null',
\     'outputter/error/error': 'quickfix',
\     'srcfile' : expand("%:p"),
\     'exec': '%c %o %s',
\     'hook/sweep/files':[
\                      '%S:p:r.aux',
\                      '%S:p:r.bbl',
\                      '%S:p:r.blg',
\                      '%S:p:r.dvi',
\                      '%S:p:r.fdb_latexmk',
\                      '%S:p:r.fls',
\                      '%S:p:r.log',
\                      '%S:p:r.out'
\                      ],
\   },
\   '_':{},
\  }
let g:quickrun_config.tmptex = {
\
\   'exec': [
\           'cd %{expand("%:p:h")}',
\           'mv %s %a/tmptex.latex',
\           'latexmk -lualatex -pv -output-directory=%a %a/tmptex.latex',
\           ],
\   'args' : expand("%:p:h:gs?\\\\?/?"),
\   'outputter' : 'error',
\   'outputter/error/error' : 'quickfix',
\
\   'hook/eval/enable' : 1,
\   'hook/eval/cd' : "%s:r",
\
\   'hook/eval/template' :'\documentclass{jlreq}'
\                         .'\usepackage{luatexja}'
\                         .'\begin{document}'
\                          .'%s'
\                         .'\end{document}',
\
\   'hook/sweep/files' : [
\                        '%a/tmptex.latex',
\                        '%a/tmptex.out',
\                        '%a/tmptex.fdb_latexmk',
\                        '%a/tmptex.log',
\                        '%a/tmptex.aux',
\                        '%a/tmptex.dvi'
\                        ],
\}
\
if has('nvim')
  " Use 'neovim_job' in Neovim
  let g:quickrun_config._.runner = 'neovim_job'
elseif exists('*ch_close_in')
  " Use 'job' in Vim which support job feature
  let g:quickrun_config._.runner = 'job'
endif
autocmd FileType tex vnoremap <leader>rr <cmd>QuickRun tmptex<cr> 
autocmd BufWritePost, FileWritePost *.tex QuickRun
'''
[[plugins]]
repo = 'lambdalisue/vim-quickrun-neovim-job'
on_source = 'vim-quickrun'

[[plugins]]
repo = 'thinca/vim-ambicmd'
on_event = ['CmdlineEnter']

[[plugins]]
repo = 'kevinhwang91/nvim-bqf'
on_ft =['qf']

[[plugins]]
repo = 'thinca/vim-qfreplace'
on_ft=['qf']
hook_add = '''
nnoremap <silent><leader>qr <cmd>Qfreplace<cr>
'''



